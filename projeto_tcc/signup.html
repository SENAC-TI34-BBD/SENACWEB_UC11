<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="icon" type="image/x-icon" href="assets/imgs/favicon.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;400;600;700&display=swap"
      rel="stylesheet"
    />
    <title>TravelNow - Register</title>
  </head>
  <body>
    <article class="signup-body">
      <div class="signup-background">
        <div class="signup-header">
          <div class="signup-back">
            <a href="../projeto_tcc/index.php" id="url-back"
              >⬅️ Voltar para página inicial...</a
            >
          </div>
          <div class="signup-container">
            <div class="form-left"></div>
            <div class="form-right">
              <h1 class="signup-title">Crie sua conta</h1>
              <form id="registro-usuario-form" class="signup-form">
                <span id="msgAlertErroLogin"></span>
                <br />
                <div class="signup-inputs">
                  <div class="signup-input" id="nome-block">
                    <label for="nome"
                      >Nome<br />
                      <input
                        type="text"
                        name="nome"
                        id="nome"
                        placeholder="Nome"
                      />
                    </label>
                  </div>
                  <div class="signup-input" id="sobrenome-block">
                    <label for="sobrenome"
                      >Sobrenome<br />
                      <input
                        type="text"
                        name="sobrenome"
                        id="sobrenome"
                        placeholder="Sobrenome"
                    /></label>
                  </div>
                  <div class="signup-input" id="email-block">
                    <label for="email"
                      >Email<br />
                      <input
                        type="email"
                        name="email"
                        id="email"
                        placeholder="Email"
                      />
                    </label>
                  </div>
                  <div class="signup-input" id="telefone-block">
                    <label for="telefone"
                      >Telefone<br />
                      <input
                        type="tel"
                        name="telefone"
                        id="telefone"
                        placeholder="Telefone"
                      />
                    </label>
                  </div>
                  <div class="signup-input" id="senha-block">
                    <label for="senha"
                      >Senha<br />
                      <input
                        type="password"
                        name="senha"
                        id="senha"
                        placeholder="Senha"
                      />
                    </label>
                    <center>
                      <span
                        id="StrengthDisp"
                        class="badge displayBadge"
                        style="font-size: 10pt"
                      ></span>
                    </center>
                  </div>
                  <div class="signup-input" id="confirmar-senha-block">
                    <label for="confirmar-senha"
                      >Confirmar senha<br /><input
                        type="password"
                        name="confirmar-senha"
                        id="confirmar-senha"
                        placeholder="Confirme sua senha"
                    /></label>
                    <span
                      id="EqualDisp"
                      class="badge displayBadge"
                      style="font-size: 9pt"
                    ></span>
                  </div>
                  <br />
                  <div class="genero-block" id="genero-block">
                    <p>Gênero</p>
                    <input
                      type="radio"
                      name="genero"
                      class="genero"
                      id="masculino"
                      value="masculino"
                    />
                    <label for="masculino" class="label-genero"
                      >Masculino</label
                    >
                    <input
                      type="radio"
                      name="genero"
                      class="genero"
                      id="feminino"
                      value="feminino"
                    />
                    <label for="feminino" class="label-genero">Feminino</label>
                    <input
                      type="radio"
                      name="genero"
                      class="genero"
                      id="outro"
                      value="outro"
                      name="genero"
                    />
                    <label for="outro" class="label-genero">Outro</label>
                    <input
                      type="radio"
                      name="genero"
                      class="genero"
                      id="naodizer"
                      value="vazio"
                    />
                    <label for="naodizer" class="label-genero"
                      >Não Informar</label
                    >
                  </div>
                </div>
                <div class="submit-block" id="submit-block">
                  <button type="submit" name="register" class="registerBtn">
                    Cadastrar
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <script>
        let timeout;

        let password = document.getElementById("senha");
        let confirmPassword = document.getElementById("confirmar-senha");
        let strengthBadge = document.getElementById("StrengthDisp");
        let equalBadge = document.getElementById("EqualDisp");

        let mediumPassword = new RegExp(
          "(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{8,})"
        );
        let strongPassword = new RegExp(
          "((?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{6,}))|((?=.*[a-z])(?=.*[A-Z])(?=.*[^A-Za-z0-9])(?=.{8,}))"
        );

        function StrengthChecker(PasswordParameter) {
          if (strongPassword.test(PasswordParameter)) {
            strengthBadge.style.backgroundColor = "#69F0AE";
            strengthBadge.style.color = "#2E7D32";
            strengthBadge.textContent = "Senha Forte";
          } else if (mediumPassword.test(PasswordParameter)) {
            strengthBadge.style.backgroundColor = "#FFF59D";
            strengthBadge.style.color = "#F9A825";
            strengthBadge.textContent = "Senha Média";
          } else {
            strengthBadge.style.backgroundColor = "#EF9A9A";
            strengthBadge.style.color = "#D50000";
            strengthBadge.textContent = "Senha Fraca";
          }
        }

        function EqualsChecker(passwordParam, confirmPasswordParam) {
          if (passwordParam == confirmPasswordParam) {
            equalBadge.textContent = "";
            password.style.borderColor = "#ccc";
            confirmPassword.style.borderColor = "#ccc";
          } else {
            equalBadge.style.color = "#D50000";
            password.style.borderColor = "#D50000";
            confirmPassword.style.borderColor = "#D50000";
            equalBadge.textContent = "Senhas são diferentes!";
          }
        }

        password.addEventListener(
          "input",
          () => {
            strengthBadge.style.display = "block";
            clearTimeout(timeout);

            timeout = setTimeout(() => StrengthChecker(password.value), 500);

            if (password.value.length !== 0) {
              strengthBadge.style.display != "block";
            } else {
              strengthBadge.style.display = "none";
              password.style.borderColor = "#ccc";
              confirmPassword.style.borderColor = "#ccc";
            }
          },
          confirmPassword.addEventListener("input", () => {
            equalBadge.style.display = "block";
            clearTimeout(timeout);

            timeout = setTimeout(
              () => EqualsChecker(password.value, confirmPassword.value),
              500
            );

            if (confirmPassword.value.length !== 0) {
              equalBadge.style.display != "block";
            } else {
              equalBadge.style.display = "none";
            }
          })
        );
      </script>
      <div class="logo-signup">
        <a href="index.html"
          ><img src="./assets/imgs/logo_normal.png" width="250px" alt="Logo"
        /></a>
      </div>
    </article>
  </body>
</html>
